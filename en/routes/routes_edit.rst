.. _ss-route-edit:

Editing routes
--------------
In Topo GPS you can :ref:`edit the details of a route <ss-route-details-edit>`. 
It is also possible to :ref:`modify the route itself <ss-route-track-edit>`. Both possibilities are discussed below.


.. _ss-route-details-edit:

Editing route details
~~~~~~~~~~~~~~~~~~~~~
You can edit the route details, like the title, author, copyright and description 
by pressing 'Edit' in the bottom of the :ref:`route details screen <ss-route-details>`.

The following screen will then appear:

.. figure:: _static/route-edit1.png
   :height: 568px
   :width: 320px
   :alt: Edit route details Topo GPS

   *Figure 1. Editing route details.*

You can edit route details in this screen. If you want to save the modifications, you have to press 'Save' on the top right.

If you press '>' in the title cell, you can edit the URL of a route:

.. figure:: _static/route-edit2.png
   :height: 568px
   :width: 320px
   :alt: Route details edit Topo GPS

   *Figure 2. Editing title information.*

If you press '>' in the author cell, you can edit the contact and copyright details:

.. figure:: _static/route-edit3.png
   :height: 568px
   :width: 320px
   :alt: Route informatie wijzigen Topo GPS

   *Figure 3. Editing author information.*

If you have shared your route with Topo GPS, you have to share the route again with Topo GPS to update the route on the Topo GPS route server.
The previous version will be overwritten by sharing it again.

.. _ss-route-track-edit:

Editing route
~~~~~~~~~~~~~
You can change the route itself by loading a route into the
:ref:`route planner <ss-route-plan>`. You can do this in two ways,
either via the :ref:`route details screen <ss-route-track-edit-details>` or if the route planner has been opened using the 
:ref:`route button <ss-route-track-edit-routebutton>`.

.. _ss-route-track-edit-details:

Loading route into planner from route details screen
****************************************************
If you press ‘Edit’ in the :ref:`route details screen <ss-route-details>`, a
pop-up will appear as you can see in the figure below:

.. figure:: _static/route-edit1.png
   :height: 568px
   :width: 320px
   :alt: Edit route details Topo GPS

   *Figure 4. Loading a route into the planner using the route details screen.*

If you press ‘Edit track’ the route planner will be opened and the route will be loaded into the route planner.

.. _ss-route-track-edit-routebutton:

Loading route into planner using route button on dashboard
**********************************************************
If the :ref:`route planner <ss-route-plan>` is opened, you can join a route to the planned route by pressing the :ref:`route button <subsec-routebutton>` on the dashboard. The :ref:`routes screen <ss-route-load>` will appear. If you press the title of a route a pop-up will appear like in the figure below:

.. figure:: _static/route-edit4.png
   :height: 568px
   :width: 320px
   :alt: Edit route details Topo GPS

   *Figure 5. Loading a route into the planner via the routes screen.*

If you press ‘Join planned route’ the route will be loaded into the route planner.

As an example we now will load the route ‘Gower Hike’ into the planner. The result is displayed below:

.. figure:: _static/route-edit5.png
   :height: 568px
   :width: 320px
   :alt: Edit route details Topo GPS

   *Figure 6. The route Gower Hike is loaded in the route planner.*

You can now modify the route that is loaded in the planner, in the same way as you :ref:`plan a route <ss-route-plan>`.

Below we will give the following examples:

- :ref:`ss-route-edit-extend`

- :ref:`ss-route-edit-shorten`

- :ref:`ss-route-edit-replace`

- :ref:`ss-route-edit-join`

.. _ss-route-edit-extend:

Extending a route
~~~~~~~~~~~~~~~~~
In this section it is explained how a route can be extended. As 
an example we will extend the following route:

.. figure:: _static/route-track-extend1.png
   :height: 568px
   :width: 320px
   :alt: Extending route Topo GPS

   *Figure 7. A route that needs to be extended.*

First the route needs to be :ref:`loaded into the route planner <ss-route-track-edit>`, as is illustrated below:

.. figure:: _static/route-track-extend2.png
   :height: 568px
   :width: 320px
   :alt: Extending route Topo GPS

   *Figure 8. The to be extended route is loaded in the route planner.*

In Fig. 8 you can see two route points, one at the start and one at the finish. The final route point is selected and hence colored green.

You can now add a route point by pressing long on the map. A blue route point will appear as you can see in the figure below:

.. figure:: _static/route-track-extend3.png
   :height: 568px
   :width: 320px
   :alt: Extending route Topo GPS

   *Figure 9. The blue route point is being added to the route.*

As long as you hold your finger on the map, you can drag the blue 
route point to the desired location. If you release your finger a route
will be drawn from the green route point to the added route point. The added
route point will be selected and colored green. The result is shown below:

.. figure:: _static/route-track-extend4.png
   :height: 568px
   :width: 320px
   :alt: Extending route Topo GPS

   *Figure 10. The route is extended to the added route point.*

You can now save the extended route by pressing ‘Save’ in the route planner 
window. A saved route will be always stored as a new route. After saving you
can close the route planner. The extended route is displayed in the figure below:

.. figure:: _static/route-track-extend5.png
   :height: 568px
   :width: 320px
   :alt: Extending route Topo GPS

   *Figure 11. The result of extending a route.*

.. _ss-route-edit-shorten:

Shortening a route
~~~~~~~~~~~~~~~~~~
In this section is is explained how you can shorten a route.
As an example will will use the route below. We would like to
shorten the route so that it starts in Middleton.

.. figure:: _static/route-track-reduce1.png
   :height: 568px
   :width: 320px
   :alt: Shortening route Topo GPS

   *Figure 12. A route that needs to be shortened.*

First the route needs to be :ref:`loaded into the route planner <ss-route-track-edit>`, as is illustrated below:

.. figure:: _static/route-track-reduce2.png
   :height: 568px
   :width: 320px
   :alt: Shortening route Topo GPS

   *Figure 13. The route that needs to be shortened is loaded in the route planner.*

Next you have to press long on the route. A blue route point will appear on the route. When you move your finger the route point will move on the route. If your release your finger the route point will be inserted into the route and colored
green, as is illustrated below:

.. figure:: _static/route-track-reduce3.png
   :height: 568px
   :width: 320px
   :alt: Shortening route Topo GPS

   *Figure 14. The green route point is inserted into the route.*

Next you tap the first route point. It will become selected and colored green. You now have to press long on the first route point, drag it to the top of the screen and release your finger. The first route point will be deleted and the route will be shortened from the inserted route point to the last route point. This is illustrated in the figure below:
 
.. figure:: _static/route-track-reduce4.png
   :height: 568px
   :width: 320px
   :alt: Shortening route Topo GPS

   *Figure 15. The first route point has been removed.*

You can now save the shortened route by pressing ‘Save’ in the route planner 
window. A saved route will be always stored as a new route. After saving you
can close the route planner and view the shortened route. Our example becomes:

.. figure:: _static/route-track-reduce5.png
   :height: 568px
   :width: 320px
   :alt: Shortening route Topo GPS

   *Figure 16. The resulting shortened route.*


.. _ss-route-edit-replace:

Replacing part of a route
~~~~~~~~~~~~~~~~~~~~~~~~~
In this section it is explained how you can replace part of 
a route. First the route needs to be :ref:`loaded into the route planner <ss-route-track-edit>`.

As an example we will now change the ‘Gower Hike’ so that the middle part of the route will go over the ‘Gower Way’.

If you want to replace part of a route you have to bound the part that you want to change by two route points. You can do this by pressing long on the route. A blue route point will appear as is illustrated below:
 
.. figure:: _static/route-track-replace1.png
   :height: 568px
   :width: 320px
   :alt: Shortening route Topo GPS

   *Figure 17. The blue route point will be inserted into the route.*

You can move the blue route point along the route by moving your finger. If you release your finger the route point will be inserted and colored green. Since we want to change the route to go over the Gower way, we place the inserted route point just before the intersection with the Gower way, as is illustrated below:

.. figure:: _static/route-track-replace2.png
   :height: 568px
   :width: 320px
   :alt: Replacing route Topo GPS

   *Figure 18. The green route point is inserted in the route.*

In the same way you add a second route point. In the example just after the other intersection of the route with the Gower Way:

.. figure:: _static/route-track-replace3.png
   :height: 568px
   :width: 320px
   :alt: Replacing route Topo GPS

   *Figure 19. The green route point is inserted in the route.*

The route between the orange and the green route point needs to be modified. We now have to insert a third routepoint in between the orange and the green route point by pressing long on the route. The result is shown below:

.. figure:: _static/route-track-replace4.png
   :height: 568px
   :width: 320px
   :alt: Replacing route Topo GPS

   *Figure 20. The green route point is inserted in the route.*

By pressing long on the green route point you can drag it to a new position.
This is illustrated below:

.. figure:: _static/route-track-replace5.png
   :height: 568px
   :width: 320px
   :alt: Replacing route Topo GPS

   *Figure 21. The green route point is being dragged to a new location.*

When releasing the finger the green route point will be fixed. The route will now be recomputed such that it goes via the green route point.  In the example we drag the green route point to the Gower Way, and as a result we obtain:

.. figure:: _static/route-track-replace6.png
   :height: 568px
   :width: 320px
   :alt: Shortening route Topo GPS

   *Figure 22. The route between the orange and purple route point now follows
a new road.*

You can now save the shortened route by pressing ‘Save’ in the route planner 
window. A saved route will be always stored as a new route. After saving you
can close the route planner and view the modified route. The modified
Gower Hike route is displayed below:

.. figure:: _static/route-track-replace7.png
   :height: 568px
   :width: 320px
   :alt: Replacing route Topo GPS

   *Figure 23. The result of changing part of a route.*



.. _ss-route-edit-join:

Joining routes
~~~~~~~~~~~~~~
You can also join two or more routes.
Open the :ref:`route planner <ss-route-plan>`. Add one route via the
:ref:`route button <ss-route-track-edit-routebutton>`. If you press the route button once more, the second route will be joined to the first route in the planner. 
If you press ‘Save’ in the route planner window, the saved route will be the combination of the two routes. 

In the same way you can combine even more routes. For example, suppose you have all parts of the Pennine way as separate routes. With the method discussed above, you can join all these parts to a single route that displays the whole Pennine way.
